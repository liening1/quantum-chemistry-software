<!DOCTYPE html>
<html>
<head>
    <title>Molecular Animation (Offline)</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; text-align: center; background: #f5f5f5; }
        #canvas { border: 2px solid #333; margin: 20px auto; background: white; display: block; }
        .controls { margin: 20px; }
        button { margin: 5px; padding: 12px 24px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
        .play { background: #4CAF50; color: white; }
        .nav { background: #2196F3; color: white; }
        .reset { background: #FF9800; color: white; }
        #info { margin: 10px; font-size: 18px; font-weight: bold; color: #333; }
    </style>
</head>
<body>
    <h1>Geometry Optimization Animation</h1>
    <div id="info">Frame 1 of 38</div>
    <canvas id="canvas" width="700" height="500"></canvas>
    <div class="controls">
        <button class="nav" onclick="previousFrame()">◀ Previous</button>
        <button class="play" id="playBtn" onclick="toggleAnimation()">▶ Play</button>
        <button class="nav" onclick="nextFrame()">Next ▶</button>
        <button class="reset" onclick="resetView()">🔄 Reset</button>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let currentFrame = 0;
        let isPlaying = false;
        let animationInterval;
        let scale = 80;
        let offsetX = canvas.width / 2;
        let offsetY = canvas.height / 2;
        let rotationX = 0;
        let rotationY = 0;
        
        // Molecular data
        const symbols = ['O', 'C', 'C', 'C', 'H', 'H', 'H', 'H', 'H', 'H'];
        const trajectory = [[[0.000567, -2.488958, -0.000378], [0.0, -0.164784, 0.001134], [2.420739, 1.327344, -0.000378], [-2.421306, 1.326399, -0.000378], [2.509367, 2.501053, -1.696974], [2.505777, 2.509934, 1.69036], [4.034754, 0.037039, 0.005102], [-4.034943, 0.035338, 0.005102], [-2.510312, 2.500108, -1.696974], [-2.506911, 2.509178, 1.69036]], [[0.000567, -2.488958, -0.000378], [0.0, -0.164784, 0.001134], [2.420739, 1.327344, -0.000378], [-2.421306, 1.326399, -0.000378], [2.509367, 2.501053, -1.696974], [2.505777, 2.509934, 1.69036], [4.034754, 0.037039, 0.005102], [-4.034943, 0.035338, 0.005102], [-2.510312, 2.500108, -1.696974], [-2.506911, 2.509178, 1.69036]], [[0.00055, -2.470029, -0.000273], [2.1e-05, -0.183107, 0.000841], [2.42727, 1.320672, -0.00016], [-2.427886, 1.319715, -0.000133], [2.510275, 2.501215, -1.689332], [2.506721, 2.51007, 1.682662], [4.027469, 0.043117, 0.005037], [-4.027615, 0.041462, 0.005036], [-2.511224, 2.500259, -1.689333], [-2.507848, 2.509275, 1.682631]], [[0.00055, -2.470029, -0.000273], [2.1e-05, -0.183107, 0.000841], [2.42727, 1.320672, -0.00016], [-2.427886, 1.319715, -0.000133], [2.510275, 2.501215, -1.689332], [2.506721, 2.51007, 1.682662], [4.027469, 0.043117, 0.005037], [-4.027615, 0.041462, 0.005036], [-2.511224, 2.500259, -1.689333], [-2.507848, 2.509275, 1.682631]], [[0.000539, -2.475191, -0.000199], [2e-05, -0.175434, 0.000635], [2.428435, 1.315856, -6.6e-05], [-2.429066, 1.314895, -3e-05], [2.511311, 2.501226, -1.681689], [2.507784, 2.510091, 1.675042], [4.023718, 0.046655, 0.004989], [-4.023836, 0.045033, 0.004988], [-2.512268, 2.500256, -1.681685], [-2.508905, 2.509264, 1.67499]], [[0.000539, -2.475191, -0.000199], [2e-05, -0.175434, 0.000635], [2.428435, 1.315856, -6.6e-05], [-2.429066, 1.314895, -3e-05], [2.511311, 2.501226, -1.681689], [2.507784, 2.510091, 1.675042], [4.023718, 0.046655, 0.004989], [-4.023836, 0.045033, 0.004988], [-2.512268, 2.500256, -1.681685], [-2.508905, 2.509264, 1.67499]], [[0.000521, -2.477311, -9.1e-05], [7e-06, -0.172197, 0.000395], [2.424957, 1.31195, -4.6e-05], [-2.42557, 1.310992, -1.8e-05], [2.513657, 2.501794, -1.668903], [2.510153, 2.51071, 1.662375], [4.021229, 0.048833, 0.004925], [-4.021322, 0.047246, 0.004926], [-2.514629, 2.500796, -1.66889], [-2.511269, 2.509835, 1.662304]], [[0.000521, -2.477311, -9.1e-05], [7e-06, -0.172197, 0.000395], [2.424957, 1.31195, -4.6e-05], [-2.42557, 1.310992, -1.8e-05], [2.513657, 2.501794, -1.668903], [2.510153, 2.51071, 1.662375], [4.021229, 0.048833, 0.004925], [-4.021322, 0.047246, 0.004926], [-2.514629, 2.500796, -1.66889], [-2.511269, 2.509835, 1.662304]], [[0.000503, -2.477615, -2.2e-05], [2e-06, -0.173553, 0.000303], [2.421378, 1.30897, -6.1e-05], [-2.421967, 1.308011, -4.7e-05], [2.515733, 2.50383, -1.660515], [2.512219, 2.512768, 1.654065], [4.02077, 0.048566, 0.004881], [-4.020856, 0.046996, 0.004883], [-2.516721, 2.502814, -1.660502], [-2.513329, 2.511862, 1.653993]], [[0.000503, -2.477615, -2.2e-05], [2e-06, -0.173553, 0.000303], [2.421378, 1.30897, -6.1e-05], [-2.421967, 1.308011, -4.7e-05], [2.515733, 2.50383, -1.660515], [2.512219, 2.512768, 1.654065], [4.02077, 0.048566, 0.004881], [-4.020856, 0.046996, 0.004883], [-2.516721, 2.502814, -1.660502], [-2.513329, 2.511862, 1.653993]], [[0.00049, -2.478529, 1.3e-05], [5e-06, -0.176185, 0.000322], [2.419928, 1.307135, -7e-05], [-2.4205, 1.306174, -6.6e-05], [2.517112, 2.506473, -1.656891], [2.513562, 2.515393, 1.650454], [4.021258, 0.046917, 0.004854], [-4.021345, 0.04535, 0.004857], [-2.518111, 2.505452, -1.656887], [-2.514667, 2.51447, 1.65039]], [[0.00049, -2.478529, 1.3e-05], [5e-06, -0.176185, 0.000322], [2.419928, 1.307135, -7e-05], [-2.4205, 1.306174, -6.6e-05], [2.517112, 2.506473, -1.656891], [2.513562, 2.515393, 1.650454], [4.021258, 0.046917, 0.004854], [-4.021345, 0.04535, 0.004857], [-2.518111, 2.505452, -1.656887], [-2.514667, 2.51447, 1.65039]], [[0.000476, -2.480864, 4.9e-05], [1.2e-05, -0.179502, 0.000394], [2.420044, 1.30572, -7.5e-05], [-2.420605, 1.304758, -8e-05], [2.518499, 2.510032, -1.654597], [2.51489, 2.5189, 1.648144], [4.022126, 0.044102, 0.004829], [-4.022215, 0.042534, 0.00483], [-2.519509, 2.509008, -1.65461], [-2.515986, 2.517962, 1.648093]], [[0.000476, -2.480864, 4.9e-05], [1.2e-05, -0.179502, 0.000394], [2.420044, 1.30572, -7.5e-05], [-2.420605, 1.304758, -8e-05], [2.518499, 2.510032, -1.654597], [2.51489, 2.5189, 1.648144], [4.022126, 0.044102, 0.004829], [-4.022215, 0.042534, 0.00483], [-2.519509, 2.509008, -1.65461], [-2.515986, 2.517962, 1.648093]], [[0.000469, -2.483246, 8.2e-05], [1.5e-05, -0.181422, 0.000454], [2.421535, 1.305374, -7.6e-05], [-2.422095, 1.304414, -8.6e-05], [2.51936, 2.5125, -1.654002], [2.515704, 2.521316, 1.647525], [4.022736, 0.04172, 0.004812], [-4.022824, 0.040149, 0.004813], [-2.520377, 2.511476, -1.654029], [-2.516791, 2.520368, 1.647484]], [[0.000469, -2.483246, 8.2e-05], [1.5e-05, -0.181422, 0.000454], [2.421535, 1.305374, -7.6e-05], [-2.422095, 1.304414, -8.6e-05], [2.51936, 2.5125, -1.654002], [2.515704, 2.521316, 1.647525], [4.022736, 0.04172, 0.004812], [-4.022824, 0.040149, 0.004813], [-2.520377, 2.511476, -1.654029], [-2.516791, 2.520368, 1.647484]], [[0.000468, -2.484224, 0.000112], [1.4e-05, -0.181591, 0.000464], [2.42288, 1.305627, -7.8e-05], [-2.423445, 1.304669, -8.8e-05], [2.519734, 2.513223, -1.654199], [2.516059, 2.522009, 1.647714], [4.022897, 0.040627, 0.004805], [-4.022981, 0.039054, 0.004804], [-2.520754, 2.5122, -1.654232], [-2.517139, 2.521056, 1.647675]], [[0.000468, -2.484224, 0.000112], [1.4e-05, -0.181591, 0.000464], [2.42288, 1.305627, -7.8e-05], [-2.423445, 1.304669, -8.8e-05], [2.519734, 2.513223, -1.654199], [2.516059, 2.522009, 1.647714], [4.022897, 0.040627, 0.004805], [-4.022981, 0.039054, 0.004804], [-2.520754, 2.5122, -1.654232], [-2.517139, 2.521056, 1.647675]], [[0.000468, -2.484177, 0.000141], [1e-05, -0.181152, 0.00045], [2.423548, 1.305836, -8.2e-05], [-2.424117, 1.304881, -9.3e-05], [2.520026, 2.513231, -1.65435], [2.516345, 2.522, 1.647869], [4.022885, 0.040175, 0.0048], [-4.022966, 0.038601, 0.004798], [-2.521047, 2.512208, -1.654385], [-2.517421, 2.521044, 1.64783]], [[0.000468, -2.484177, 0.000141], [1e-05, -0.181152, 0.00045], [2.423548, 1.305836, -8.2e-05], [-2.424117, 1.304881, -9.3e-05], [2.520026, 2.513231, -1.65435], [2.516345, 2.522, 1.647869], [4.022885, 0.040175, 0.0048], [-4.022966, 0.038601, 0.004798], [-2.521047, 2.512208, -1.654385], [-2.517421, 2.521044, 1.64783]], [[0.000467, -2.483554, 0.000209], [5e-06, -0.180147, 0.000415], [2.424476, 1.306085, -9.4e-05], [-2.425051, 1.305133, -0.000108], [2.520803, 2.513148, -1.654472], [2.517111, 2.52188, 1.648002], [4.022833, 0.039317, 0.004787], [-4.022907, 0.037741, 0.004783], [-2.521828, 2.512126, -1.654508], [-2.518178, 2.520919, 1.647963]], [[0.000467, -2.483554, 0.000209], [5e-06, -0.180147, 0.000415], [2.424476, 1.306085, -9.4e-05], [-2.425051, 1.305133, -0.000108], [2.520803, 2.513148, -1.654472], [2.517111, 2.52188, 1.648002], [4.022833, 0.039317, 0.004787], [-4.022907, 0.037741, 0.004783], [-2.521828, 2.512126, -1.654508], [-2.518178, 2.520919, 1.647963]], [[0.000464, -2.482058, 0.00034], [-2e-06, -0.178378, 0.000356], [2.425754, 1.306331, -0.00012], [-2.426336, 1.305384, -0.000139], [2.522488, 2.513055, -1.654512], [2.518771, 2.521711, 1.648067], [4.022709, 0.037704, 0.00476], [-4.022773, 0.036124, 0.004752], [-2.523521, 2.512035, -1.654555], [-2.519822, 2.520741, 1.648029]], [[0.000464, -2.482058, 0.00034], [-2e-06, -0.178378, 0.000356], [2.425754, 1.306331, -0.00012], [-2.426336, 1.305384, -0.000139], [2.522488, 2.513055, -1.654512], [2.518771, 2.521711, 1.648067], [4.022709, 0.037704, 0.00476], [-4.022773, 0.036124, 0.004752], [-2.523521, 2.512035, -1.654555], [-2.519822, 2.520741, 1.648029]], [[0.000456, -2.479188, 0.000575], [-1e-05, -0.175484, 0.000275], [2.427489, 1.306547, -0.00017], [-2.428078, 1.305605, -0.0002], [2.525782, 2.513004, -1.654431], [2.522017, 2.521512, 1.648024], [4.022386, 0.034863, 0.004706], [-4.022439, 0.033274, 0.004691], [-2.52683, 2.511987, -1.654482], [-2.523041, 2.520528, 1.647989]], [[0.000456, -2.479188, 0.000575], [-1e-05, -0.175484, 0.000275], [2.427489, 1.306547, -0.00017], [-2.428078, 1.305605, -0.0002], [2.525782, 2.513004, -1.654431], [2.522017, 2.521512, 1.648024], [4.022386, 0.034863, 0.004706], [-4.022439, 0.033274, 0.004691], [-2.52683, 2.511987, -1.654482], [-2.523041, 2.520528, 1.647989]], [[0.000445, -2.475914, 0.000839], [-1.3e-05, -0.172582, 0.000219], [2.42887, 1.306625, -0.000231], [-2.429459, 1.305684, -0.000272], [2.529876, 2.513065, -1.654253], [2.52605, 2.521392, 1.647884], [4.021793, 0.031765, 0.004638], [-4.02184, 0.030167, 0.004616], [-2.530941, 2.512054, -1.654315], [-2.527048, 2.520394, 1.647853]], [[0.000445, -2.475914, 0.000839], [-1.3e-05, -0.172582, 0.000219], [2.42887, 1.306625, -0.000231], [-2.429459, 1.305684, -0.000272], [2.529876, 2.513065, -1.654253], [2.52605, 2.521392, 1.647884], [4.021793, 0.031765, 0.004638], [-4.02184, 0.030167, 0.004616], [-2.530941, 2.512054, -1.654315], [-2.527048, 2.520394, 1.647853]], [[0.000436, -2.474021, 0.001003], [-8e-06, -0.171158, 0.000227], [2.429245, 1.306621, -0.000272], [-2.429827, 1.305677, -0.000319], [2.532854, 2.513189, -1.654156], [2.528989, 2.521385, 1.647801], [4.021076, 0.029998, 0.004584], [-4.021125, 0.028395, 0.004559], [-2.533931, 2.512182, -1.654222], [-2.529976, 2.520381, 1.647772]], [[0.000436, -2.474021, 0.001003], [-8e-06, -0.171158, 0.000227], [2.429245, 1.306621, -0.000272], [-2.429827, 1.305677, -0.000319], [2.532854, 2.513189, -1.654156], [2.528989, 2.521385, 1.647801], [4.021076, 0.029998, 0.004584], [-4.021125, 0.028395, 0.004559], [-2.533931, 2.512182, -1.654222], [-2.529976, 2.520381, 1.647772]], [[0.000432, -2.47344, 0.001084], [-0.0, -0.170855, 0.000277], [2.42906, 1.306693, -0.000296], [-2.429632, 1.305743, -0.000344], [2.534758, 2.513297, -1.654222], [2.530877, 2.521411, 1.647866], [4.020274, 0.029352, 0.004544], [-4.020329, 0.027751, 0.004519], [-2.53584, 2.512291, -1.654286], [-2.531867, 2.520408, 1.647834]], [[0.000432, -2.47344, 0.001084], [-0.0, -0.170855, 0.000277], [2.42906, 1.306693, -0.000296], [-2.429632, 1.305743, -0.000344], [2.534758, 2.513297, -1.654222], [2.530877, 2.521411, 1.647866], [4.020274, 0.029352, 0.004544], [-4.020329, 0.027751, 0.004519], [-2.53584, 2.512291, -1.654286], [-2.531867, 2.520408, 1.647834]], [[0.000434, -2.47372, 0.001109], [5e-06, -0.171077, 0.000326], [2.428843, 1.306885, -0.000304], [-2.429409, 1.30593, -0.000349], [2.535658, 2.513324, -1.654419], [2.531785, 2.521404, 1.648058], [4.019607, 0.029389, 0.004517], [-4.019667, 0.027792, 0.004493], [-2.536738, 2.512318, -1.654477], [-2.532784, 2.520404, 1.648023]], [[0.000434, -2.47372, 0.001109], [5e-06, -0.171077, 0.000326], [2.428843, 1.306885, -0.000304], [-2.429409, 1.30593, -0.000349], [2.535658, 2.513324, -1.654419], [2.531785, 2.521404, 1.648058], [4.019607, 0.029389, 0.004517], [-4.019667, 0.027792, 0.004493], [-2.536738, 2.512318, -1.654477], [-2.532784, 2.520404, 1.648023]], [[0.000438, -2.474106, 0.001119], [6e-06, -0.171227, 0.000347], [2.428863, 1.307099, -0.000304], [-2.429429, 1.306144, -0.000346], [2.535988, 2.513288, -1.654614], [2.532136, 2.521359, 1.648254], [4.019225, 0.029521, 0.004498], [-4.019285, 0.027929, 0.004476], [-2.537065, 2.512279, -1.654667], [-2.533144, 2.520364, 1.648214]], [[0.000438, -2.474106, 0.001119], [6e-06, -0.171227, 0.000347], [2.428863, 1.307099, -0.000304], [-2.429429, 1.306144, -0.000346], [2.535988, 2.513288, -1.654614], [2.532136, 2.521359, 1.648254], [4.019225, 0.029521, 0.004498], [-4.019285, 0.027929, 0.004476], [-2.537065, 2.512279, -1.654667], [-2.533144, 2.520364, 1.648214]], [[0.000441, -2.474194, 0.001127], [4e-06, -0.171172, 0.000344], [2.428996, 1.307196, -0.000302], [-2.429564, 1.306242, -0.000343], [2.53606, 2.51325, -1.654686], [2.532228, 2.521325, 1.648331], [4.019149, 0.02951, 0.004487], [-4.019208, 0.02792, 0.004466], [-2.537133, 2.512241, -1.654736], [-2.533241, 2.520331, 1.648289]], [[0.000441, -2.474194, 0.001127], [4e-06, -0.171172, 0.000344], [2.428996, 1.307196, -0.000302], [-2.429564, 1.306242, -0.000343], [2.53606, 2.51325, -1.654686], [2.532228, 2.521325, 1.648331], [4.019149, 0.02951, 0.004487], [-4.019208, 0.02792, 0.004466], [-2.537133, 2.512241, -1.654736], [-2.533241, 2.520331, 1.648289]]];
        
        // Element colors (CPK)
        const colors = {
            'H': '#FFFFFF', 'C': '#909090', 'N': '#3050F8', 'O': '#FF0D0D',
            'F': '#90E050', 'P': '#FF8000', 'S': '#FFFF30', 'Cl': '#1FF01F'
        };
        
        // Element radii
        const radii = {
            'H': 4, 'C': 8, 'N': 7, 'O': 6, 'F': 5, 'P': 10, 'S': 10, 'Cl': 10
        };
        
        function project3D(x, y, z) {
            // Simple 3D to 2D projection with rotation
            const cosX = Math.cos(rotationX);
            const sinX = Math.sin(rotationX);
            const cosY = Math.cos(rotationY);
            const sinY = Math.sin(rotationY);
            
            // Rotate around Y axis
            const x1 = x * cosY - z * sinY;
            const z1 = x * sinY + z * cosY;
            
            // Rotate around X axis
            const y2 = y * cosX - z1 * sinX;
            const z2 = y * sinX + z1 * cosX;
            
            // Project to 2D
            const screenX = x1 * scale + offsetX;
            const screenY = y2 * scale + offsetY;
            const depth = z2;
            
            return {x: screenX, y: screenY, z: depth};
        }
        
        function drawMolecule(frameIndex) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const coords = trajectory[frameIndex];
            const atoms = [];
            
            // Project all atoms
            for (let i = 0; i < coords.length; i++) {
                const pos = project3D(coords[i][0], coords[i][1], coords[i][2]);
                atoms.push({
                    symbol: symbols[i],
                    x: pos.x,
                    y: pos.y,
                    z: pos.z,
                    originalCoords: coords[i]
                });
            }
            
            // Sort by depth (furthest first)
            atoms.sort((a, b) => a.z - b.z);
            
            // Draw bonds first
            ctx.strokeStyle = '#666666';
            ctx.lineWidth = 3;
            for (let i = 0; i < coords.length; i++) {
                for (let j = i + 1; j < coords.length; j++) {
                    const atom1 = coords[i];
                    const atom2 = coords[j];
                    const distance = Math.sqrt(
                        Math.pow(atom1[0] - atom2[0], 2) +
                        Math.pow(atom1[1] - atom2[1], 2) +
                        Math.pow(atom1[2] - atom2[2], 2)
                    );
                    
                    // Draw bond if atoms are close enough (typical bond length < 2.0 Å)
                    if (distance < 2.0) {
                        const pos1 = project3D(atom1[0], atom1[1], atom1[2]);
                        const pos2 = project3D(atom2[0], atom2[1], atom2[2]);
                        
                        ctx.beginPath();
                        ctx.moveTo(pos1.x, pos1.y);
                        ctx.lineTo(pos2.x, pos2.y);
                        ctx.stroke();
                    }
                }
            }
            
            // Draw atoms
            atoms.forEach(atom => {
                const color = colors[atom.symbol] || '#FF00FF';
                const radius = radii[atom.symbol] || 8;
                
                // Draw atom sphere with gradient
                const gradient = ctx.createRadialGradient(
                    atom.x - radius/3, atom.y - radius/3, 0,
                    atom.x, atom.y, radius
                );
                gradient.addColorStop(0, '#FFFFFF');
                gradient.addColorStop(1, color);
                
                ctx.fillStyle = gradient;
                ctx.strokeStyle = '#000000';
                ctx.lineWidth = 1;
                
                ctx.beginPath();
                ctx.arc(atom.x, atom.y, radius, 0, 2 * Math.PI);
                ctx.fill();
                ctx.stroke();
                
                // Draw element label
                ctx.fillStyle = '#000000';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(atom.symbol, atom.x, atom.y);
            });
        }
        
        function showFrame(frameIndex) {
            if (frameIndex < 0 || frameIndex >= trajectory.length) return;
            
            currentFrame = frameIndex;
            document.getElementById('info').textContent = `Frame ${frameIndex + 1} of ${trajectory.length}`;
            drawMolecule(frameIndex);
        }
        
        function nextFrame() {
            showFrame((currentFrame + 1) % trajectory.length);
        }
        
        function previousFrame() {
            showFrame((currentFrame - 1 + trajectory.length) % trajectory.length);
        }
        
        function toggleAnimation() {
            const playBtn = document.getElementById('playBtn');
            if (isPlaying) {
                clearInterval(animationInterval);
                isPlaying = false;
                playBtn.textContent = '▶ Play';
            } else {
                animationInterval = setInterval(nextFrame, 500);
                isPlaying = true;
                playBtn.textContent = '⏸ Pause';
            }
        }
        
        function resetView() {
            rotationX = 0;
            rotationY = 0;
            scale = 80;
            showFrame(currentFrame);
        }
        
        // Mouse controls for rotation
        let isDragging = false;
        let lastMouseX = 0;
        let lastMouseY = 0;
        
        canvas.addEventListener('mousedown', function(e) {
            isDragging = true;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
        });
        
        canvas.addEventListener('mousemove', function(e) {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;
                
                rotationY += deltaX * 0.01;
                rotationX += deltaY * 0.01;
                
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                
                showFrame(currentFrame);
            }
        });
        
        canvas.addEventListener('mouseup', function() {
            isDragging = false;
        });
        
        // Zoom with mouse wheel
        canvas.addEventListener('wheel', function(e) {
            e.preventDefault();
            scale += e.deltaY > 0 ? -5 : 5;
            scale = Math.max(20, Math.min(200, scale));
            showFrame(currentFrame);
        });
        
        // Initialize
        showFrame(0);
    </script>
</body>
</html>